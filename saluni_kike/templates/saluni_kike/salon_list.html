{% extends "base.html" %}
{% block content %}

<!-- Hero Section -->
<section class="hero-section">
    <div class="hero-slideshow">
        <div class="slide active" style="background-image: url('https://picsum.photos/id/1011/1600/400');"></div>
        <div class="slide" style="background-image: url('https://picsum.photos/id/1012/1600/400');"></div>
        <div class="slide" style="background-image: url('https://picsum.photos/id/1013/1600/400');"></div>
    </div>
    <div class="hero-overlay">
        <div class="hero-content">
            <h1>üîç Pata Salon Bora Karibu Nawe</h1>
            <p>Chagua salon, ona huduma na bei kwa urahisi</p>
            <input type="text" placeholder="Tafuta salon kwa jina au eneo..." class="search-input">
        </div>
    </div>
</section>

<!-- Salons Grid -->
<section class="salons-section">
    <div class="salon-grid">
        {% for salon in salons %}
        <div class="salon-card">
            <div class="salon-image">
                {% if salon.picha_kuu %}
                    <img src="{{ salon.picha_kuu.url }}" alt="{{ salon.name }}">
                {% else %}
                    <img src="https://picsum.photos/600/400?random={{ forloop.counter }}" alt="{{ salon.name }}">
                {% endif %}
            </div>
            <div class="salon-info">
                <h2><a href="{% url 'salon_detail' salon.id %}">{{ salon.name }}</a></h2>
                <p class="address"><i class="fas fa-map-marker-alt"></i> {{ salon.street }}, {{ salon.district }}, {{ salon.region }}</p>

                {% if salon.phone %}
                <p class="phone"><i class="fas fa-phone-alt"></i> {{ salon.phone }}</p>
                {% endif %}

                <a href="{% url 'salon_detail' salon.id %}" class="btn-check">Angalia</a>
            </div>
        </div>
        {% empty %}
        <div class="no-results">
            <h3>Hakuna Salon Zilizopatikana</h3>
            <p>Badilisha vichujio vyako au jaribu tena baadaye</p>
        </div>
        {% endfor %}
    </div>
</section>

<style>
@import url('https://fonts.googleapis.com/css2?family=Mulish:wght@400;600;700&display=swap');

:root {
    --primary: #ff4fa1;
    --primary-dark: #c2185b;
    --white: #ffffff;
    --shadow: 0 8px 25px rgba(0,0,0,0.15);
    --radius: 15px;
    --text-dark: #333;
}

body { font-family: 'Mulish', sans-serif; background: #fff5f8; margin:0; }

/* Hero Section */
.hero-section { position: relative; height: 400px; overflow: hidden; }
.hero-slideshow { position:absolute; top:0; left:0; right:0; bottom:0; }
.hero-slideshow .slide { position:absolute; top:0; left:0; right:0; bottom:0; background-size:cover; background-position:center; opacity:0; transition: opacity 1s ease-in-out; }
.hero-slideshow .slide.active { opacity:1; }

.hero-overlay {
    position: relative; z-index:2;
    background: rgba(0,0,0,0.3);
    width: 100%; height: 100%;
    display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; padding:0 20px;
}

.hero-overlay h1 { font-size:3rem; color:var(--white); margin-bottom:10px; font-weight:700; }
.hero-overlay p { font-size:1.3rem; color:var(--white); margin-bottom:20px; }
.search-input { padding:14px 20px; border-radius:50px; border:none; width:350px; max-width:100%; font-size:1rem; }

/* Salon Grid */
.salon-grid {
    display:grid;
    grid-template-columns: repeat(auto-fill, minmax(250px,1fr));
    justify-content: center;
    gap:25px;
    padding:40px 20px;
}

.salon-card {
    background: var(--white);
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    overflow:hidden;
    transition:all 0.3s ease;
    border:1px solid #ffe6f0;
    display:flex;
    flex-direction:column;
    align-items:center;
    text-align:center;
    min-height: 420px;
}

.salon-card:hover { transform:translateY(-5px); box-shadow:0 15px 40px rgba(0,0,0,0.25); }
.salon-image img { width:100%; height:200px; object-fit:cover; transition:transform 0.3s; border-top-left-radius: var(--radius); border-top-right-radius: var(--radius); }
.salon-card:hover .salon-image img { transform: scale(1.05); }

.salon-info { padding:15px; width:100%; }
.salon-info h2 { font-size:1.25rem; margin-bottom:5px; color:var(--primary-dark); font-weight:700; }
.salon-info h2 a { text-decoration:none; color:var(--primary-dark); }
.salon-info h2 a:hover { color:var(--primary); }

.address, .phone { font-size:0.9rem; color:#666; margin:5px 0; display:flex; align-items:center; justify-content:center; gap:5px; }
.address i, .phone i { color:var(--primary); }

/* Action Button */
.btn-check {
    display:inline-block;
    margin-top:10px;
    padding:10px 18px;
    background:var(--primary);
    color:var(--white);
    border-radius:50px;
    text-decoration:none;
    font-weight:600;
    transition:0.3s;
}
.btn-check:hover { background:var(--primary-dark); }

/* No Results */
.no-results { text-align:center; padding:50px 20px; }

/* Grid responsiveness */
@media(min-width:1200px){ .salon-grid { grid-template-columns: repeat(6,1fr); } }
@media(max-width:1199px){ .salon-grid { grid-template-columns: repeat(4,1fr); } }
@media(max-width:992px){ .salon-grid { grid-template-columns: repeat(3,1fr); } }
@media(max-width:768px){ .salon-grid { grid-template-columns: repeat(2,1fr); } }
@media(max-width:480px){ .salon-grid { grid-template-columns: 1fr; } }

/* Hero overlay responsive */
@media(max-width:768px){ .hero-overlay h1{font-size:2rem;} .hero-overlay p{font-size:1rem;} }
@media(max-width:480px){ .hero-section{height:300px;} .search-input{width:100%;} }

</style>

<script>
// Hero Slideshow fade effect
let slides = document.querySelectorAll('.hero-slideshow .slide');
let current = 0;
function nextSlide(){
    slides[current].classList.remove('active');
    current = (current+1)%slides.length;
    slides[current].classList.add('active');
}
setInterval(nextSlide,5000);
</script>

{% endblock %}
